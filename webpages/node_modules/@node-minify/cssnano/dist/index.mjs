var __getOwnPropNames = Object.getOwnPropertyNames;
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};

// src/index.ts
import { utils } from "@node-minify/utils";
import cssnano from "cssnano";
import postcss from "postcss";
var require_src = __commonJS({
  "src/index.ts"(exports, module) {
    var minifyCssnano = async ({
      settings,
      content,
      callback,
      index
    }) => {
      let contentMinified = { css: "" };
      try {
        contentMinified = await postcss([cssnano]).process(content || "", {
          from: void 0
        });
      } catch (e) {
        if (callback) {
          return callback(e);
        }
      }
      if (settings && !settings.content && settings.output) {
        settings.output && utils.writeFile({
          file: settings.output,
          content: contentMinified.css,
          index
        });
      }
      if (callback) {
        return callback(null, contentMinified.css);
      }
      return contentMinified.css;
    };
    minifyCssnano.default = minifyCssnano;
    module.exports = minifyCssnano;
  }
});
export default require_src();
/*!
 * node-minify
 * Copyright(c) 2011-2024 Rodolphe Stoclin
 * MIT Licensed
 */
//# sourceMappingURL=index.mjs.map